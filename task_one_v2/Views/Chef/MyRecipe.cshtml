
@using task_one_v2.App_Core.ConstString
@using System.Globalization
@using Microsoft.AspNetCore.Mvc.Localization
@using task_one_v2.ViewModel


@inject IViewLocalizer localizer

@{
    Layout = ConstantApp.chefLayout;
    List<Recipe> recipes = ViewBag.currentRecipe;
 
}
<h3>@localizer["recipes"]</h3>

<div class=" pb-3">
    <div class="container">
        <div class="row g-4">
            @foreach (var i in recipes)
            {
                <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                    <div class="team-item text-center rounded overflow-hidden">
                        <h5 class="mb-0 mt-3 ">@i.Recipename</h5>
                        <div class="rounded-circle overflow-hidden m-4">
                            <img class="img-fluid" src="@Url.Content(ConstantApp.wwwImgPath + i.ImageRecipe)" alt="" style="height: 300px; ">
                        </div>

                        <div style="display: flex; justify-content: center;">
                            <form id="deleteForm" asp-action="DeleteConfirmed" asp-route-id="@i.RecipeId" method="post" style="margin-right: 10px;">
                                <button type="submit" class="btn btn-danger btn-sm update-certificate-btn" onclick="confirmDelete()">
                                    <i class="mdi mdi-delete-forever" style="font-size:20px"></i> 
                                </button>
                            </form>

                            <form asp-action="EditRecipe" asp-route-id="@i.RecipeId" method="post">
                                <button type="submit" class="btn btn-primary btn-sm update-certificate-btn">
                                    <i class="mdi mdi-pencil" style="font-size:20px"></i> 
                                </button>
                            </form>
                        </div>

                    </div>
                </div>
            }
        </div>


    </div>
</div>


<script>
    function confirmDelete() {
        if (confirm("Are you sure you want to delete?")) {
            document.getElementById("deleteForm").submit();
        }
    }
</script>


<script>
    document.addEventListener("DOMContentLoaded", function () {
        var fileInputs = document.querySelectorAll('.file-input');
        fileInputs.forEach(function (input) {
            input.addEventListener('change', function () {
                var label = this.nextElementSibling;
                var fileName = this.files[0].name;
                label.innerText = fileName;
            });
        });
    });
</script>

